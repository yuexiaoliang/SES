<script setup lang="ts">
import { getTradingTestStocks } from "@/apis/trading-test";

import data, { codes } from "./mock.js";
import { chunkArray } from "@/utils/common";

// 1. æŸ±çŠ¶å›¾æ¥è¡¨ç¤ºæ¯æœˆç›ˆåˆ©
// 2. é¥¼å›¾è¡¨ç¤ºä»¥å¹´æˆ– n å¹´ä¸ºå•ä½çš„æ”¶ç›Šæ¯”ä¾‹
// 3. çŸ©å½¢æ ‘å›¾è¡¨ç¤ºå„è‚¡ç¥¨çš„æ”¶ç›Š
// 4. æœ‰ä¸ªæ”¶ç›ŠæŽ’åç‰ˆå—
// 5. ç›ˆåˆ©å’ŒäºæŸå¯ä»¥ç”¨æ—¥åŽ†å›¾ï¼ˆç±»ä¼¼githubæäº¤ï¼‰è¡¨ç¤ºï¼Œæ¯ä¸ªæ—¥æœŸæœ‰å¤šå°‘è‚¡ç¥¨ç›ˆåˆ©å¤šå°‘è‚¡ç¥¨äºæŸ

const result = [];
const codesList = chunkArray(codes, 3);

getTradingTestStocks({
  raw_funds: 10000,
  start_date: "2022-01-01",
  stocks: codes,
})
  .then((res) => {
    console.log(
      `ðŸš€ > file: historical-analysis.vue:25 > Promise.all > res:`,
      res
    );
  })
  .catch((err) => {
    console.log(
      `ðŸš€ > file: historical-analysis.vue:30 > Promise.all > err:`,
      err
    );
  });

// const requestList = codesList.map((codes) => {
//   return getTradingTestStocks({
//     raw_funds: 10000,
//     start_date: "2022-01-01",
//     stocks: codes.join(","),
//   });
// });

// Promise.all(requestList)
//   .then((res) => {
//     console.log(
//       `ðŸš€ > file: historical-analysis.vue:25 > Promise.all > res:`,
//       res
//     );
//   })
//   .catch((err) => {
//     console.log(
//       `ðŸš€ > file: historical-analysis.vue:30 > Promise.all > err:`,
//       err
//     );
//   });

const load = () => {
  const codesList = [[], []];
  // getTradingTestStocks
};
</script>

<template>
  <div class="historical-analysis">historical-analysis</div>
</template>

<style lang="scss" scoped>
.historical-analysis {
}
</style>
